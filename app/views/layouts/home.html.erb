<!DOCTYPE html>
<html>
  <head>
    <title>Gestão Prefeitura</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <!-- Favicon com Asset Path -->
    <%= favicon_link_tag asset_path('gestao.png') %>
    <%= stylesheet_link_tag 'application', media: 'all', 'data-turbo-track': 'reload' %>
    <!-- Link do Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <%= stylesheet_link_tag "home", media: "all", "data-turbolinks-track": "reload" %>
    <%= stylesheet_link_tag "geral", media: "all", "data-turbolinks-track": "reload" %>
    <script defer>
      document.addEventListener("keydown", function (event) {
        if (event.key === "Escape" || event.keyCode === 27) {
          const voltarButton = document.querySelector(".voltar_key");
          if (voltarButton) {
            voltarButton.click();
          }
        }
      });
    </script>
  </head>
  <body>

  <div class="container-fluid">
  <div class="row">
    <!-- Sidebar -->
    <nav class="sidebar">
      <div class="sidebar-sticky text-center">
        <!-- Logo -->
        <div class="logo-container py-3">
          <a href="/" class="logo-link">
            <img src="<%= asset_path 'logo_png.png' %>" alt="Logo" class="img-fluid" style="max-width: 80%;">
          </a>
        </div>
        <ul class="nav flex-column mt-3">
          <li class="nav-item">
            <a class="nav-link fw-bold" href="<%= unidades_path %>">
              <svg>...</svg> Unidades
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link fw-bold" href="<%= guardas_path %>">
              <svg>...</svg> Guardas
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link fw-bold" href="<%= equipes_path %>">
              <svg>...</svg> Equipes
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link fw-bold" href="<%= armas_path %>">
              <svg>...</svg> Armas
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link fw-bold" href="<%= movimentacaos_path %>">
              <svg>...</svg> Movimentações
            </a>
          </li>
          <% if current_user && current_user.admin? %>
            <li class="nav-item">
              <a class="nav-link fw-bold" href="<%= users_path %>">
                <svg>...</svg> Usuários
              </a>
            </li>
          <% end %>
          <li class="nav-item mt-auto">
            <%= button_to "Sair", logout_path, method: :delete, class: "btn btn-danger fw-bold w-100 btn-lg" %>
          </li>
        </ul>
      </div>
    </nav>

    <%= yield %>

    </div>
    </div>

    <!-- Scripts do Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
